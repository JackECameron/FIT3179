{
   "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
   "width": 330,
   "height": 327,
   "padding":0,
   "title": {"text": "Average Station Response Time", "color": "white"},
   "background":"#161a1d",
   "config": {},
   "params": [{"name": "var1", "value": 1},{"name": "var2", "value": "CENTRAL"}
  ],
   "data":{
       "url":"https://raw.githubusercontent.com/JackECameron/FIT3179/main/D2_resources/data/responseTimes/FRV_total_combined_dif.csv"
    },
    "layer": [
      { "mark": {"type": "line", "fillOpacity":0.7},
      "transform": [{"filter": "datum.sTag != 'agr'"}, {"filter": "datum.dis == var2"}],
      "encoding": {
        "x": {"field": "q", "type": "ordinal", "axis": {"labelColor":"white", "titleColor": "white", "title": "Financial Quarter"}},
        "y": {"field": "dif","type": "quantitative", "axis": {"labelColor":"white", "titleColor": "white", "title": "Average Response Time (min)"}},
        "color": {"field": "servArea", "scale": {"range": ["grey"]}, "legend": null},
        "tooltip":[
         {
            "field":"incType",
            "type":"nominal",
            "title":"Incident Type"
         },
         {
            "field":"numInc",
            "type":"quantitative",
            "title":"Number of Incidents"
         }
      ]
      }
   },
   { "mark": {"type": "line", "fillOpacity":0.9},
      "transform": [{"filter": "datum.sTag != 'agr'"}, {"filter": "datum.sNumber == var1"}],
      "encoding": {
        "x": {"field": "q", "type": "ordinal", "axis": {"labelColor":"white", "titleColor": "white"}},
        "y": {"field": "dif", "type": "quantitative","axis": {"labelColor":"white", "titleColor": "white"}},
        "color": {"field": "servArea", "scale": {"range": ["red"]}, "legend": {"title": "Current Station","titleColor": "white", "labelColor": "white", "orient": "none", "legendY": 295, "legendX":125}},
        "tooltip":[
         {
            "field":"incType",
            "type":"nominal",
            "title":"Incident Type"
         },
         {
            "field":"numInc",
            "type":"quantitative",
            "title":"Number of Incidents"
         }
      ]
      }
   },
   { "mark": {"type": "line", "fillOpacity":0.8},
      "transform": [{"filter": "datum.sTag == 'agr'"}, {"filter": "datum.dis == var2"}],
      "encoding": {
        "x": {"field": "q", "type": "ordinal", "axis": {"labelColor":"white", "titleColor": "white"}},
        "y": {"field": "dif", "type": "quantitative","axis": {"labelColor":"white", "titleColor": "white"}},
        "color": {"field": "servArea", "scale": {"range": ["yellow"]},"legend": {"titleColor": "white","title":"District Average", "labelColor": "white", "orient": "none", "legendY": 295, "legendX":10}},
        "tooltip":[
         {
            "field":"dif",
            "type":"nominal",
            "title":"Incident Type"
         },
         {
            "field":"numInc",
            "type":"quantitative",
            "title":"Number of Incidents"
         }
      ]
      }
   }],
    "resolve": {"scale": {"color": "independent"}}
  
 }