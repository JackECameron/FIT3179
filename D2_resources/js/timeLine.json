{
   "$schema":"https://vega.github.io/schema/vega-lite/v5.json",
   "width":300,
   "height":400,
   "padding":0,
   
   "background":"#161a1d",
   "config":{
      "legend": {"disable": true},
      "view": {"stroke": null}
      
   },
   "params":[
      {
         "name":"var1",
         "value":1
      },
      {
         "name":"var2",
         "value":"CENTRAL"
      }
   ],
   "data":{
      "url":"https://raw.githubusercontent.com/JackECameron/FIT3179/main/D2_resources/data/responseTimes/FRV_total_combined_dif.csv"
   },
   "layer":[ {
         "transform":[{"calculate": "7.7", "as": "stand"}, {"filter": "datum.dis == 'datumLine'"}],
         "mark":{
            "type":"line",
            "fillOpacity":0.8,
            "strokeWidth":5,
            "strokeCap":"round",
            "color":"#9AD0EC"
         },
         "encoding":{
           
           "x":{
               "field":"q",
               "type":"ordinal",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white",
                  "title":null
               }
            },
            "y":{
               "field":"dif",
               "type":"quantitative",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white",
                  "title":null
               }
            }
         }
      },
      {
         "transform":[{"calculate": "7.7", "as": "stand"}, {"filter": "datum.dis == 'datumLine'"}],
         "mark":{
            "type":"point",
            "fillOpacity":0.8,
            "strokeWidth":5,
            "strokeCap":"round",
            "color":"#9AD0EC"
         },
         "encoding":{
           
           "x":{
               "field":"q",
               "type":"ordinal",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white"
               }
            },
            "y":{
               "field":"dif",
               "type":"quantitative",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white"
               }
            },
            "tooltip":[
               {
                  "field":"stand",
                  "type":"quantitative",
                  "title":"Standard Response Time"
               }
            ]
         }
      },
      {
         "mark":{
            "type":"line",
            "strokeOpacity":0.25,
            "strokeWidth":5,
            "strokeCap":"round"
         },
         "transform":[
            {
               "filter":"datum.sTag != 'agr'"
            },
            {
               "filter":"datum.dis == var2"
            }
         ],
         "encoding":{
            "x":{
               "field":"q",
               "type":"ordinal",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white",
                  "title":"Financial Quarter",
                  "tickOpacity":0,
                  "labelAngle":0,
                  "domainOpacity":0.25
               }
            },
            "y":{
               "field":"dif",
               "type":"quantitative",
                "axis":{
                  "labelColor":"white",
                  "titleColor":"white",
                  "title":null,
                  "tickOpacity":0,
                  "labelAngle":0,
                  "domain": false,
                  "gridOpacity":0.25
               }
            },
            "color":{
               "field":"servArea",
               "scale":{
                  "range":[
                     "grey"
                  ]
               },
               "legend":null
            }
         }
      },
      {
         "mark":{
            "type":"point",
            "strokeOpacity":0.25,
            "strokeWidth":5,
            "strokeCap":"round"
         },
         "transform":[
            {
               "filter":"datum.sTag != 'agr'"
            },
            {
               "filter":"datum.dis == var2"
            }
         ],
         "encoding":{
            "x":{
               "field":"q",
               "type":"ordinal",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white",
                  "title":"Financial Quarter"
               }
            },
            "y":{
               "field":"dif",
               "type":"quantitative",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white",
                  "title":"Average Response Time (min)"
               }
            },
            "color":{
               "field":"servArea",
               "scale":{
                  "range":[
                     "grey"
                  ]
               },
               "legend":null
            },
            "tooltip":[ {
                  "field":"servArea",
                  "type":"nominal",
                  "title":"Station"
               },
               {
                  "field":"90Avg",
                  "type":"quantitative",
                  "title":"Response Time (minutes)"
               },
               {
                  "field":"dif",
                  "type":"quantitative",
                  "title":"Difference (minutes)"
               }
            ]
         }
      },
      {
         "mark":{
            "type":"line",
            "fillOpacity":0.9,
            "strokeWidth":5,
            "strokeCap":"round"
         },
         "transform":[
            {
               "filter":"datum.sTag != 'agr'"
            },
            {
               "filter":"datum.sNumber == var1"
            }
         ],
         "encoding":{
            "x":{
               "field":"q",
               "type":"ordinal",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white"
               }
            },
            "y":{
               "field":"dif",
               "type":"quantitative",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white"
               }
            },
            "color":{
               "field":"servArea",
               "scale":{
                  "range":[
                     "#E3BEC6"
                  ]
               },
               "legend":{
                  "title":null,
                  "titleColor":"white",
                  "labelColor":"white",
                  "orient":"none",
                  "legendY":0,
                  "legendX":125
               }
            }
         }
      },
      {
         "mark":{
            "type":"point",
            "fillOpacity":0.9,
            "strokeWidth":5
         },
         "transform":[
            {
               "filter":"datum.sTag != 'agr'"
            },
            {
               "filter":"datum.sNumber == var1"
            }
         ],
         "encoding":{
            "x":{
               "field":"q",
               "type":"ordinal",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white"
               }
            },
            "y":{
               "field":"dif",
               "type":"quantitative",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white"
               }
            },
            "color":{
               "field":"servArea",
               "scale":{
                  "range":[
                     "#E3BEC6"
                  ]
               },
               "legend":null
            },
            "tooltip":[ {
                  "field":"servArea",
                  "type":"nominal",
                  "title":"Station"
               },
               {
                  "field":"90Avg",
                  "type":"quantitative",
                  "title":"Response Time (minutes)"
               },
               {
                  "field":"dif",
                  "type":"quantitative",
                  "title":"Difference (minutes)"
               }
            ]
         }
      },
      {
         "mark":{
            "type":"line",
            "fillOpacity":0.8,
            "strokeWidth":5,
            "strokeCap":"round"
         },
         "transform":[
            {
               "filter":"datum.sTag == 'agr'"
            },
            {
               "filter":"datum.dis == var2"
            }
         ],
         "encoding":{
            "x":{
               "field":"q",
               "type":"ordinal",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white"
               }
            },
            "y":{
               "field":"dif",
               "type":"quantitative",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white"
               }
            },
            "color":{
               "field":"servArea",
               "scale":{
                  "range":[
                     "#850E35"
                  ]
               },
               "legend":{
                  "titleColor":"white",
                  "title":null,
                  "labelColor":"white",
                  "orient":"none",
                  "legendY":0,
                  "legendX":10
               }
            }
         }
      },
      {
         "mark":{
            "type":"point",
            "fillOpacity":0.8,
            "strokeWidth":5
         },
         "transform":[
            {
               "filter":"datum.sTag == 'agr'"
            },
            {
               "filter":"datum.dis == var2"
            }
         ],
         "encoding":{
            "x":{
               "field":"q",
               "type":"ordinal",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white"
               }
            },
            "y":{
               "field":"dif",
               "type":"quantitative",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white"
               }
            },
            "color":{
               "field":"servArea",
               "scale":{
                  "range":[
                     "#850E35"
                  ]
               },
                "legend":null
            },
            "tooltip":[ {
                  "field":"servArea",
                  "type":"nominal",
                  "title":"District"
               },
               {
                  "field":"90Avg",
                  "type":"quantitative",
                  "title":"Response Time (minutes)"
               },
               {
                  "field":"dif",
                  "type":"quantitative",
                  "title":"Difference (minutes)"
               }
            ]
         }
      },
        {
         "mark":{
            "type":"text",
            "color":"white",
            "dy": -15
         },
         "transform":[
            {
               "filter":"datum.sTag != 'agr'"
            },
            {
               "filter":"datum.sNumber == var1"
            }
         ],
         "encoding":{
            "x":{
               "field":"q",
               "type":"ordinal",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white"
               }
            },
            "y":{
               "field":"dif",
               "type":"quantitative",
               "axis":{
                  "labelColor":"white",
                  "titleColor":"white"
               }
            },"text":{"field": "dif", "formatType": "number", "format": ".2"}
         }
      }
        
   ],
   "resolve":{
      "scale":{
         "color":"independent"
      }
   }
}